{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from \"react\";\nimport Question, { TypeAnswers } from \"../modules/Question\";\nimport Form from \"./.newFolder/CustomComponents/CustomForm\";\nimport { Validators } from \"./.newFolder/CustomComponents/Validators/validators\";\nimport Dropdown from \"./.newFolder/CustomComponents/CustomDropdown\";\nimport Input from \"./.newFolder/CustomComponents/CustomFormInput\";\nimport Button from \"./.newFolder/CustomComponents/CustomButton\";\nimport ImagePicker from \"./.newFolder/CustomComponents/CustomImagePicker\";\nimport { convertEnumToTuple } from \"./.newFolder/CustomComponents/shared/shared-functions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar season = [];\n\nfor (var i = 1; i <= 10; i++) {\n  season.push([\"Season \" + i, i]);\n}\n\nvar validators = {\n  text: [Validators.required(), Validators.len(10, 500)],\n  points: [Validators.required()]\n};\n\nvar AddQuestionsForm = function (_Component) {\n  _inherits(AddQuestionsForm, _Component);\n\n  var _super = _createSuper(AddQuestionsForm);\n\n  function AddQuestionsForm() {\n    var _this;\n\n    _classCallCheck(this, AddQuestionsForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      formFields: {\n        type: TypeAnswers.MultipleChoise,\n        text: '',\n        picture: '',\n        points: ''\n      }\n    };\n\n    _this.handleFormChange = function (formState) {\n      _this.setState({\n        formFields: formState\n      });\n    };\n\n    _this.handleSubmitForm = function () {\n      var _this$props$edited, _this$props$edited2, _this$props$edited3;\n\n      var answers = [];\n\n      _this.props.onCreate(new Question((_this$props$edited = _this.props.edited) == null ? void 0 : _this$props$edited.id, _this.state.formFields.type, _this.state.formFields.text, _this.state.formFields.picture, parseInt(_this.state.formFields.points), answers, (_this$props$edited2 = _this.props.edited) == null ? void 0 : _this$props$edited2.position, ((_this$props$edited3 = _this.props.edited) == null ? void 0 : _this$props$edited3.created) || new Date().toDateString(), new Date().toDateString()));\n    };\n\n    _this.addField = function () {\n      _this.setState(function (_ref) {\n        var formFields = _ref.formFields;\n        return {\n          formFields: _objectSpread(_objectSpread({}, formFields), {}, {\n            addedFields: _this.state.formFields.addedFields.concat([\"\"])\n          })\n        };\n      });\n\n      _this.forceUpdate();\n    };\n\n    _this.handleAddedChange = function (index) {\n      return function (text) {\n        var updatedAddedField = _this.state.formFields.addedFields.map(function (field, id) {\n          return id === index ? text : field;\n        });\n\n        _this.setState(function (_ref2) {\n          var formFields = _ref2.formFields;\n          return {\n            formFields: _objectSpread(_objectSpread({}, formFields), {}, {\n              addedFields: updatedAddedField\n            })\n          };\n        });\n\n        _this.forceUpdate();\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(AddQuestionsForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.edited !== prevProps.edited) this.handleEdited();\n    }\n  }, {\n    key: \"handleEdited\",\n    value: function handleEdited() {\n      if (!this.props.edited) return;\n      this.setState({\n        formFields: {\n          type: this.props.edited.type,\n          text: this.props.edited.text,\n          picture: this.props.edited.picture,\n          points: this.props.edited.points.toString()\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(Form, {\n        title: \"Add Question\",\n        formState: this.state.formFields,\n        handleStateChange: this.handleFormChange,\n        handleSubmitForm: this.handleSubmitForm,\n        validators: validators,\n        children: [_jsx(Dropdown, {\n          target: \"type\",\n          label: \"Choose type:\",\n          data: convertEnumToTuple(TypeAnswers)\n        }), _jsx(Input, {\n          target: \"text\",\n          label: \"Text: \"\n        }), _jsx(ImagePicker, {\n          target: \"picture\",\n          label: \"Image: \"\n        }), _jsx(Input, {\n          target: \"points\",\n          label: \"Points: \"\n        }), _jsx(_Fragment, {\n          children: _jsx(Button, {\n            value: \"+\",\n            event: function event() {\n              return _this2.addField();\n            }\n          })\n        }), this.state.formFields.addedFields.map(function (item, index) {\n          return _jsx(Input, {\n            target: \"addedFields\",\n            onChange: _this2.handleAddedChange(index),\n            value: item\n          }, index);\n        })]\n      });\n    }\n  }]);\n\n  return AddQuestionsForm;\n}(Component);\n\nexport default AddQuestionsForm;","map":{"version":3,"names":["Component","Question","TypeAnswers","Form","Validators","Dropdown","Input","Button","ImagePicker","convertEnumToTuple","season","i","push","validators","text","required","len","points","AddQuestionsForm","state","formFields","type","MultipleChoise","picture","handleFormChange","formState","setState","handleSubmitForm","answers","props","onCreate","edited","id","parseInt","position","created","Date","toDateString","addField","addedFields","concat","forceUpdate","handleAddedChange","index","updatedAddedField","map","field","prevProps","handleEdited","toString","item"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/Components/AddQuestionsForm.tsx"],"sourcesContent":["import { Component } from \"react\";\nimport Answer from \"../modules/Answer\";\nimport Question, { TypeAnswers } from \"../modules/Question\";\nimport Form from \"./.newFolder/CustomComponents/CustomForm\";\nimport { validatorsType } from \"./.newFolder/CustomComponents/shared/shared-interfaces\";\nimport { Validators } from \"./.newFolder/CustomComponents/Validators/validators\";\nimport Dropdown from \"./.newFolder/CustomComponents/CustomDropdown\";\nimport Input from \"./.newFolder/CustomComponents/CustomFormInput\";\nimport Button from \"./.newFolder/CustomComponents/CustomButton\";\nimport ImagePicker from \"./.newFolder/CustomComponents/CustomImagePicker\";\nimport {convertEnumToTuple} from \"./.newFolder/CustomComponents/shared/shared-functions\";\n\ninterface AddQuestionsFormProps {\n    onCreate: (question: Question) =>void;\n    edited: Question | undefined\n}\ninterface Fields{\n    type: TypeAnswers;\n    text: string;\n    picture: string;\n    points: string;\n}\n \n\ninterface AddQuestionsFormState {\n    formFields: Fields;\n}\n\nlet season: [string, number][] =[];\nfor(let i = 1; i<= 10; i++){\n    season.push([`Season ${i}`, i])\n}  \n\nconst validators: validatorsType<Fields> = {\n    text: [Validators.required(), Validators.len(10, 500)],\n    points: [Validators.required()],\n    \n}\n \nclass AddQuestionsForm extends Component<AddQuestionsFormProps, AddQuestionsFormState> {\n    state: Readonly<AddQuestionsFormState> = {\n        formFields: {\n            type: TypeAnswers.MultipleChoise,\n            text: '',\n            picture: '',\n            points: '',\n        }\n    }\n\n    componentDidUpdate(prevProps: AddQuestionsFormProps){\n        if(this.props.edited !== prevProps.edited)\n            this.handleEdited();\n    }\n\n    handleEdited(){\n        if(!this.props.edited) return;\n\n        this.setState({formFields: {\n            type: this.props.edited!.type,\n            text: this.props.edited!.text,\n            picture: this.props.edited!.picture,\n            points: this.props.edited!.points.toString(),\n        }})\n    }\n\n    handleFormChange = (formState: Fields) =>{\n        this.setState({formFields: formState});\n    }\n\n    handleSubmitForm = () =>{\n\n        const answers: Answer[] = [];\n        \n        this.props.onCreate(new Question(\n            this.props.edited?.id,\n            this.state.formFields.type,\n            this.state.formFields.text,\n            this.state.formFields.picture,\n            parseInt(this.state.formFields.points),\n            answers,\n            this.props.edited?.position,\n            this.props.edited?.created || new Date().toDateString(),\n            new Date().toDateString()\n        ))\n        \n    }\n\n    addField =()=>{\n        this.setState(({formFields}) => \n            ({formFields: {...formFields, \n                addedFields: this.state.formFields.addedFields.concat([\"\"])}}));\n        this.forceUpdate();\n    }\n\n\n    handleAddedChange = (index: number) => {\n        return (text: string) =>{\n            const updatedAddedField = this.state.formFields.addedFields.map((field, id) => id === index? text : field)\n\n            this.setState(({formFields}) => \n            ({formFields: {...formFields, \n            addedFields: updatedAddedField}}));\n\n            this.forceUpdate();\n        }\n    }\n\n\n    render() { \n       \n        return ( \n            <Form<Fields> title=\"Add Question\"\n            formState ={this.state.formFields}\n            handleStateChange={this.handleFormChange}\n            handleSubmitForm ={this.handleSubmitForm}\n            validators={validators}>\n               \n                <Dropdown target=\"type\" label=\"Choose type:\" data={convertEnumToTuple(TypeAnswers)}/>\n                <Input target=\"text\" label=\"Text: \" />\n                <ImagePicker target=\"picture\" label=\"Image: \" />\n                <Input target=\"points\" label=\"Points: \" />\n            <><Button value=\"+\" event={()=>this.addField()}/></>\n            {this.state.formFields.addedFields.map((item, index)=>\n                <Input key={index} target=\"addedFields\" onChange={this.handleAddedChange(index)} value={item}/>)}\n             \n            </Form>\n         );\n    }\n}\n \n\n\nexport default AddQuestionsForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}