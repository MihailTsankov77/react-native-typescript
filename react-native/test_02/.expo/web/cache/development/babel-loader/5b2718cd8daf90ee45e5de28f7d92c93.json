{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from \"react\";\nimport Question, { TypeAnswers } from \"../modules/Question\";\nimport Form from \"./.newFolder/CustomComponents/CustomForm\";\nimport { Validators } from \"./.newFolder/CustomComponents/Validators/validators\";\nimport Dropdown from \"./.newFolder/CustomComponents/CustomDropdown\";\nimport Input from \"./.newFolder/CustomComponents/CustomFormInput\";\nimport ImagePicker from \"./.newFolder/CustomComponents/CustomImagePicker\";\nimport { convertEnumToTuple } from \"./.newFolder/CustomComponents/shared/shared-functions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar season = [];\n\nfor (var i = 1; i <= 10; i++) {\n  season.push([\"Season \" + i, i]);\n}\n\nvar validators = {\n  text: [Validators.required(), Validators.len(10, 500)],\n  text: [Validators.required(), Validators.len(10, 500)]\n};\n\nvar AddQuestionsForm = function (_Component) {\n  _inherits(AddQuestionsForm, _Component);\n\n  var _super = _createSuper(AddQuestionsForm);\n\n  function AddQuestionsForm() {\n    var _this;\n\n    _classCallCheck(this, AddQuestionsForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      formFields: {\n        type: TypeAnswers.MultipleChoise,\n        text: '',\n        picture: '',\n        points: ''\n      }\n    };\n\n    _this.handleFormChange = function (formState) {\n      _this.setState({\n        formFields: formState\n      });\n    };\n\n    _this.handleSubmitForm = function () {\n      var _this$props$edited, _this$props$edited2, _this$props$edited3;\n\n      var answers = [];\n\n      _this.props.onCreate(new Question((_this$props$edited = _this.props.edited) == null ? void 0 : _this$props$edited.id, _this.state.formFields.type, _this.state.formFields.text, _this.state.formFields.picture, parseInt(_this.state.formFields.points), answers, (_this$props$edited2 = _this.props.edited) == null ? void 0 : _this$props$edited2.position, ((_this$props$edited3 = _this.props.edited) == null ? void 0 : _this$props$edited3.created) || new Date().toDateString(), new Date().toDateString()));\n    };\n\n    return _this;\n  }\n\n  _createClass(AddQuestionsForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.edited !== prevProps.edited) this.handleEdited();\n    }\n  }, {\n    key: \"handleEdited\",\n    value: function handleEdited() {\n      if (!this.props.edited) return;\n      this.setState({\n        formFields: {\n          type: this.props.edited.type,\n          text: this.props.edited.text,\n          picture: this.props.edited.picture,\n          points: this.props.edited.points.toString()\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsxs(Form, {\n        title: \"Add Question\",\n        formState: this.state.formFields,\n        handleStateChange: this.handleFormChange,\n        handleSubmitForm: this.handleSubmitForm,\n        validators: validators,\n        children: [_jsx(Dropdown, {\n          target: \"type\",\n          label: \"Choose type:\",\n          data: convertEnumToTuple(TypeAnswers)\n        }), _jsx(Input, {\n          target: \"text\",\n          label: \"Text: \"\n        }), _jsx(ImagePicker, {\n          target: \"picture\",\n          label: \"Image: \"\n        }), _jsx(Input, {\n          target: \"points\",\n          label: \"Points: \"\n        })]\n      });\n    }\n  }]);\n\n  return AddQuestionsForm;\n}(Component);\n\nexport default AddQuestionsForm;","map":{"version":3,"names":["Component","Question","TypeAnswers","Form","Validators","Dropdown","Input","ImagePicker","convertEnumToTuple","season","i","push","validators","text","required","len","AddQuestionsForm","state","formFields","type","MultipleChoise","picture","points","handleFormChange","formState","setState","handleSubmitForm","answers","props","onCreate","edited","id","parseInt","position","created","Date","toDateString","prevProps","handleEdited","toString"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/Components/AddQuestionsForm.tsx"],"sourcesContent":["import { Component } from \"react\";\nimport Answer from \"../modules/Answer\";\nimport Question, { TypeAnswers } from \"../modules/Question\";\nimport Form from \"./.newFolder/CustomComponents/CustomForm\";\nimport { validatorsType } from \"./.newFolder/CustomComponents/shared/shared-interfaces\";\nimport { Validators } from \"./.newFolder/CustomComponents/Validators/validators\";\nimport Dropdown from \"./.newFolder/CustomComponents/CustomDropdown\";\nimport Input from \"./.newFolder/CustomComponents/CustomFormInput\";\nimport Button from \"./.newFolder/CustomComponents/CustomButton\";\nimport ImagePicker from \"./.newFolder/CustomComponents/CustomImagePicker\";\nimport {convertEnumToTuple} from \"./.newFolder/CustomComponents/shared/shared-functions\";\n\ninterface AddQuestionsFormProps {\n    onCreate: (question: Question) =>void;\n    edited: Question | undefined\n}\ninterface Fields{\n    type: TypeAnswers;\n    text: string;\n    picture: string;\n    points: string;\n}\n \n\ninterface AddQuestionsFormState {\n    formFields: Fields;\n}\n\nlet season: [string, number][] =[];\nfor(let i = 1; i<= 10; i++){\n    season.push([`Season ${i}`, i])\n}  \n\nconst validators: validatorsType<Fields> = {\n    text: [Validators.required(), Validators.len(10, 500)],\n    text: [Validators.required(), Validators.len(10, 500)],\n    \n}\n \nclass AddQuestionsForm extends Component<AddQuestionsFormProps, AddQuestionsFormState> {\n    state: Readonly<AddQuestionsFormState> = {\n        formFields: {\n            type: TypeAnswers.MultipleChoise,\n            text: '',\n            picture: '',\n            points: '',\n        }\n    }\n\n    componentDidUpdate(prevProps: AddQuestionsFormProps){\n        if(this.props.edited !== prevProps.edited)\n            this.handleEdited();\n    }\n\n    handleEdited(){\n        if(!this.props.edited) return;\n\n        this.setState({formFields: {\n            type: this.props.edited!.type,\n            text: this.props.edited!.text,\n            picture: this.props.edited!.picture,\n            points: this.props.edited!.points.toString(),\n        }})\n    }\n\n    handleFormChange = (formState: Fields) =>{\n        this.setState({formFields: formState});\n    }\n\n    handleSubmitForm = () =>{\n\n        const answers: Answer[] = [];\n        \n        this.props.onCreate(new Question(\n            this.props.edited?.id,\n            this.state.formFields.type,\n            this.state.formFields.text,\n            this.state.formFields.picture,\n            parseInt(this.state.formFields.points),\n            answers,\n            this.props.edited?.position,\n            this.props.edited?.created || new Date().toDateString(),\n            new Date().toDateString()\n        ))\n        \n    }\n\n\n    render() { \n       \n        return ( \n            <Form<Fields> title=\"Add Question\"\n            formState ={this.state.formFields}\n            handleStateChange={this.handleFormChange}\n            handleSubmitForm ={this.handleSubmitForm}\n            validators={validators}>\n               \n                <Dropdown target=\"type\" label=\"Choose type:\" data={convertEnumToTuple(TypeAnswers)}/>\n                <Input target=\"text\" label=\"Text: \" />\n                <ImagePicker target=\"picture\" label=\"Image: \" />\n                <Input target=\"points\" label=\"Points: \" />\n\n            </Form>\n         );\n    }\n}\n \n\n\nexport default AddQuestionsForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}