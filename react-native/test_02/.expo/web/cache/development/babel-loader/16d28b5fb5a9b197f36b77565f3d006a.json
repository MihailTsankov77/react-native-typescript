{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { Component, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { ContextDragAndDrop } from \"./DragAndDrop\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar DropArea = function DropArea(props) {\n  var context = useContext(ContextDragAndDrop);\n  return _jsx(DropAreaElem, _objectSpread(_objectSpread({}, props), context));\n};\n\nexport default DropArea;\n\nvar DropAreaElem = function (_Component) {\n  _inherits(DropAreaElem, _Component);\n\n  var _super = _createSuper(DropAreaElem);\n\n  function DropAreaElem() {\n    var _this;\n\n    _classCallCheck(this, DropAreaElem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      droppedItems: []\n    };\n    _this.DropAreaRef = React.createRef();\n\n    _this.handleLayoutChange = function () {\n      var _this$DropAreaRef$cur;\n\n      (_this$DropAreaRef$cur = _this.DropAreaRef.current) == null ? void 0 : _this$DropAreaRef$cur.measure(function (fx, fy, width, height, px, py) {\n        return _this.props.onMove({\n          id: _this.props.id,\n          width: width,\n          height: height,\n          px: px,\n          py: py,\n          onDroptItem: _this.onDroptItem\n        });\n      });\n    };\n\n    _this.onDroptItem = function (item, renderItem) {\n      _this.setState({\n        droppedItems: _this.state.droppedItems.concat({\n          item: item,\n          renderItem: renderItem\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DropAreaElem, [{\n    key: \"render\",\n    value: function render() {\n      return _jsxs(View, {\n        style: s,\n        children: [_jsx(Text, {\n          children: this.props.title\n        }), this.state.droppedItems.map(function (drop) {\n          return drop.renderItem(drop.item);\n        })]\n      });\n    }\n  }]);\n\n  return DropAreaElem;\n}(Component);\n\nvar styles = StyleSheet.create({\n  dropArea: {\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    borderWidth: 3,\n    borderColor: \"#E0E0E1\",\n    height: 150,\n    width: 150,\n    padding: 10,\n    alignItems: 'center',\n    alignContent: 'center'\n  },\n  text: {\n    marginTop: 25,\n    marginLeft: 5,\n    marginRight: 5,\n    textAlign: \"center\",\n    color: \"#fff\",\n    fontSize: 25,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["React","Component","useContext","ContextDragAndDrop","DropArea","props","context","DropAreaElem","state","droppedItems","DropAreaRef","createRef","handleLayoutChange","current","measure","fx","fy","width","height","px","py","onMove","id","onDroptItem","item","renderItem","setState","concat","s","title","map","drop","styles","StyleSheet","create","dropArea","flexDirection","flexWrap","borderWidth","borderColor","padding","alignItems","alignContent","text","marginTop","marginLeft","marginRight","textAlign","color","fontSize","fontWeight"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/Components/.newFolder/CustomComponents/CustomElements/DropArea.tsx"],"sourcesContent":["import React, { Component, ReactNode, useContext } from \"react\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport { ContextDragAndDrop, dropAreaConfig } from \"./DragAndDrop\";\n\nexport interface DropAreaPropsFromApp{\n  id: string;\n  title: string;\n}\n\nexport interface DropAreaProps extends DropAreaPropsFromApp{\n  onMove: (({id, width, height, px, py, onDroptItem}: dropAreaConfig) => void);\n}\ntype drops ={\n  item: any;\n  renderItem: (item: any) => ReactNode;\n}\n\ninterface DropAreaState{\n    droppedItems: drops[];\n}\nconst  DropArea = (props: DropAreaPropsFromApp) =>{\n  const context = useContext(ContextDragAndDrop);\n  return <DropAreaElem {...props} {...context} />\n}\nexport default DropArea;\n\n\nclass DropAreaElem extends Component<DropAreaProps, DropAreaState> {\n\n    state: Readonly<DropAreaState> ={\n      droppedItems: [],\n    }\n\n    DropAreaRef = React.createRef<View>();\n\n    handleLayoutChange = () => {\n        this.DropAreaRef.current?.measure( (fx, fy, width, height, px, py) => \n            this.props.onMove({id: this.props.id, width: width, height: height, px: px, py: py, onDroptItem: this.onDroptItem}));\n    }\n        \n    onDroptItem = <T,> (item: T, renderItem: (item: T) => ReactNode) =>{\n      this.setState({droppedItems: this.state.droppedItems.concat({item: item, renderItem: renderItem})})\n    }\n\n  render() {\n    return (\n        <View style={s}>\n          <Text>{this.props.title}</Text>\n          {this.state.droppedItems.map(drop => drop.renderItem(drop.item))}\n        </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  \n  dropArea: {\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    borderWidth: 3,  \n    borderColor: \"#E0E0E1\",\n    height: 150,\n    width: 150,\n    padding: 10,\n    alignItems: 'center',\n    alignContent: 'center',\n},\n  text: {\n    marginTop: 25,\n    marginLeft: 5,\n    marginRight: 5,\n    textAlign: \"center\",\n    color: \"#fff\",\n    fontSize: 25,\n    fontWeight: \"bold\"\n  }\n});"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAAsCC,UAAtC,QAAwD,OAAxD;;;;AAEA,SAASC,kBAAT;;;;AAkBA,IAAOC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAgC;EAChD,IAAMC,OAAO,GAAGJ,UAAU,CAACC,kBAAD,CAA1B;EACA,OAAO,KAAC,YAAD,kCAAkBE,KAAlB,GAA6BC,OAA7B,EAAP;AACD,CAHD;;AAIA,eAAeF,QAAf;;IAGMG,Y;;;;;;;;;;;;;;;UAEFC,K,GAAgC;MAC9BC,YAAY,EAAE;IADgB,C;UAIhCC,W,GAAcV,KAAK,CAACW,SAAN,E;;UAEdC,kB,GAAqB,YAAM;MAAA;;MACvB,+BAAKF,WAAL,CAAiBG,OAAjB,2CAA0BC,OAA1B,CAAmC,UAACC,EAAD,EAAKC,EAAL,EAASC,KAAT,EAAgBC,MAAhB,EAAwBC,EAAxB,EAA4BC,EAA5B;QAAA,OAC/B,MAAKf,KAAL,CAAWgB,MAAX,CAAkB;UAACC,EAAE,EAAE,MAAKjB,KAAL,CAAWiB,EAAhB;UAAoBL,KAAK,EAAEA,KAA3B;UAAkCC,MAAM,EAAEA,MAA1C;UAAkDC,EAAE,EAAEA,EAAtD;UAA0DC,EAAE,EAAEA,EAA9D;UAAkEG,WAAW,EAAE,MAAKA;QAApF,CAAlB,CAD+B;MAAA,CAAnC;IAEH,C;;UAEDA,W,GAAc,UAAMC,IAAN,EAAeC,UAAf,EAAqD;MACjE,MAAKC,QAAL,CAAc;QAACjB,YAAY,EAAE,MAAKD,KAAL,CAAWC,YAAX,CAAwBkB,MAAxB,CAA+B;UAACH,IAAI,EAAEA,IAAP;UAAaC,UAAU,EAAEA;QAAzB,CAA/B;MAAf,CAAd;IACD,C;;;;;;;WAEH,kBAAS;MACP,OACI,MAAC,IAAD;QAAM,KAAK,EAAEG,CAAb;QAAA,WACE,KAAC,IAAD;UAAA,UAAO,KAAKvB,KAAL,CAAWwB;QAAlB,EADF,EAEG,KAAKrB,KAAL,CAAWC,YAAX,CAAwBqB,GAAxB,CAA4B,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAACN,UAAL,CAAgBM,IAAI,CAACP,IAArB,CAAJ;QAAA,CAAhC,CAFH;MAAA,EADJ;IAMD;;;;EAxBwBvB,S;;AA2B3B,IAAM+B,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;EAE/BC,QAAQ,EAAE;IACRC,aAAa,EAAE,QADP;IAERC,QAAQ,EAAE,QAFF;IAGRC,WAAW,EAAE,CAHL;IAIRC,WAAW,EAAE,SAJL;IAKRrB,MAAM,EAAE,GALA;IAMRD,KAAK,EAAE,GANC;IAORuB,OAAO,EAAE,EAPD;IAQRC,UAAU,EAAE,QARJ;IASRC,YAAY,EAAE;EATN,CAFqB;EAa/BC,IAAI,EAAE;IACJC,SAAS,EAAE,EADP;IAEJC,UAAU,EAAE,CAFR;IAGJC,WAAW,EAAE,CAHT;IAIJC,SAAS,EAAE,QAJP;IAKJC,KAAK,EAAE,MALH;IAMJC,QAAQ,EAAE,EANN;IAOJC,UAAU,EAAE;EAPR;AAbyB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}