{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Navbar from \"./Components/.newFolder/CustomComponents/CustomNavbar\";\nimport Btn from \"./Components/.newFolder/CustomComponents/CustomButton\";\nimport { QuestionRepo } from \"./dao/repository\";\nimport AddQuestionView from \"./Components/AddQuestionView\";\nimport StartTest from \"./Components/StartTest\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Views;\n\n(function (Views) {\n  Views[Views[\"HomePage\"] = 0] = \"HomePage\";\n  Views[Views[\"StartTest\"] = 1] = \"StartTest\";\n})(Views || (Views = {}));\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      views: Views.HomePage,\n      isScrolled: false,\n      questions: [],\n      edited: undefined\n    };\n\n    _this.handleCreateQuestions = function () {\n      var _ref = _asyncToGenerator(function* (question) {\n        if (!_this.state.edited) {\n          var created = yield QuestionRepo.create(question);\n\n          _this.setState(function (_ref2) {\n            var questions = _ref2.questions;\n            return {\n              questions: questions.concat(created)\n            };\n          });\n        } else {\n          _this.handleUpdate(question);\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleUpdate = function () {\n      var _ref3 = _asyncToGenerator(function* (question) {\n        var updated = yield QuestionRepo.update(question);\n\n        _this.setState(function (_ref4) {\n          var questions = _ref4.questions;\n          return {\n            questions: questions.map(function (qu) {\n              return qu.id === updated.id ? updated : qu;\n            })\n          };\n        });\n\n        _this.setState({\n          edited: undefined\n        });\n      });\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleDeleteQuestion = function () {\n      var _ref5 = _asyncToGenerator(function* (question) {\n        yield QuestionRepo.delete(question.id);\n\n        _this.setState(function (_ref6) {\n          var questions = _ref6.questions;\n          return {\n            questions: questions.filter(function (qu) {\n              return qu.id !== question.id;\n            })\n          };\n        });\n      });\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    _this.handleEditQuestion = function (question) {\n      _this.setState({\n        edited: question\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(function* () {\n        var allQuestions = yield QuestionRepo.findAll();\n        this.setState({\n          questions: allQuestions\n        });\n        console.log(prevState);\n      });\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      console.log(prevState);\n    }\n  }, {\n    key: \"handleSwitchView\",\n    value: function handleSwitchView() {\n      switch (this.state.views) {\n        case Views.HomePage:\n          return _jsx(AddQuestionView, {\n            onCreate: this.handleCreateQuestions,\n            onDelete: this.handleDeleteQuestion,\n            onEdit: this.handleEditQuestion,\n            onPositionMove: this.handleUpdate,\n            edited: this.state.edited,\n            questions: this.state.questions\n          });\n\n        case Views.StartTest:\n          return _jsx(StartTest, {\n            questions: this.state.questions\n          });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('====================================');\n      console.log(this.state.questions);\n      console.log('====================================');\n      return _jsxs(View, {\n        children: [_jsxs(Navbar, {\n          title: \"Mudele Test\",\n          children: [_jsx(Btn, {\n            value: \"Create Questions\",\n            event: function event() {\n              return _this2.setState({\n                views: Views.HomePage\n              });\n            },\n            bgColor: \"gray\"\n          }), _jsx(Btn, {\n            value: \"Start Test\",\n            event: function event() {\n              return _this2.setState({\n                views: Views.StartTest\n              });\n            },\n            bgColor: \"gray\"\n          })]\n        }), _jsx(ScrollView, {\n          style: {\n            height: \"fit-content\"\n          },\n          children: this.handleSwitchView()\n        })]\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"names":["React","Component","Navbar","Btn","QuestionRepo","AddQuestionView","StartTest","Views","App","state","views","HomePage","isScrolled","questions","edited","undefined","handleCreateQuestions","question","created","create","setState","concat","handleUpdate","updated","update","map","qu","id","handleDeleteQuestion","delete","filter","handleEditQuestion","allQuestions","findAll","console","log","prevState","prevProps","snapshot","height","handleSwitchView"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/App.tsx"],"sourcesContent":["import React, { Component, ComponentType } from \"react\";\nimport { SafeAreaView, ScrollView, View } from \"react-native\";\nimport AddMovieForm from \"./Components/AddQuestionsForm\";\nimport List from \"./Components/.newFolder/CustomComponents/CustomCardList\";\nimport Navbar from \"./Components/.newFolder/CustomComponents/CustomNavbar\";\nimport Btn from \"./Components/.newFolder/CustomComponents/CustomButton\";\nimport WatchedCard from \"./Components/QuestionCard\";\nimport AddQuestionsForm from \"./Components/AddQuestionsForm\";\nimport { QuestionRepo } from \"./dao/repository\";\nimport Question from \"./modules/Question\";\nimport AddQuestionView from \"./Components/AddQuestionView\";\nimport StartTest from \"./Components/StartTest\";\n\nenum Views {\n  HomePage,\n  StartTest,\n}\n\ninterface AppState{\n  \n  views: Views;\n  isScrolled: boolean;\n  questions: Question[];\n  edited: Question | undefined;\n  \n}\n\nclass App extends Component<{},AppState> {\n\n  state: Readonly<AppState> ={\n  \n    views: Views.HomePage,\n    isScrolled: false,\n    \n    questions: [],\n    edited: undefined,\n  }\n \n\nasync componentDidMount() {\n  const allQuestions = await QuestionRepo.findAll();\n  this.setState({questions: allQuestions});\n  console.log(prevState);\n}\n\n  \n  componentDidUpdate(prevProps: Readonly<{}>, prevState: Readonly<AppState>, snapshot?: any): void {\n    console.log(prevState);\n    \n  }\n\n  handleCreateQuestions = async (question: Question) =>{\n    if(!this.state.edited){\n      const created = await QuestionRepo.create(question);\n      this.setState(({questions}) => ({questions: questions.concat(created)}));\n    }else{\n       this.handleUpdate(question);\n    }\n  }\n\n  handleUpdate = async (question: Question) =>{\n    const updated = await QuestionRepo.update(question);\n    this.setState(({questions}) => ({questions: questions.map((qu) => qu.id === updated.id? updated: qu)}));\n    this.setState({edited: undefined}); \n  }\n\n  handleDeleteQuestion = async (question: Question) =>{\n      await QuestionRepo.delete(question.id!);\n      this.setState(({questions}) => ({questions: questions.filter((qu) => qu.id!== question.id)}));\n    \n  }\n  \n  handleEditQuestion =  (question: Question)=>{\n    this.setState({edited: question});\n  }\n  \n\n \n  handleSwitchView(){\n   \n    switch(this.state.views){\n      case Views.HomePage:\n        return <AddQuestionView onCreate={this.handleCreateQuestions} onDelete={this.handleDeleteQuestion} onEdit={this.handleEditQuestion} onPositionMove={this.handleUpdate} edited={this.state.edited} questions={this.state.questions}/>\n      case Views.StartTest:\n        return <StartTest questions={this.state.questions}/>\n      \n    }\n  }\n  \n  render(): React.ReactNode {\n\n    console.log('====================================');\n    console.log(this.state.questions);\n    console.log('====================================');\n    return (\n      <View>\n      <Navbar title=\"Mudele Test\" >\n          <Btn value=\"Create Questions\" event={() => this.setState({views: Views.HomePage})} bgColor='gray'/>\n          <Btn value=\"Start Test\" event={() => this.setState({views: Views.StartTest})} bgColor='gray'/>\n      </Navbar>\n      <ScrollView  style={{height: \"fit-content\"}}>\n        {this.handleSwitchView()}\n      </ScrollView>\n      </View>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}