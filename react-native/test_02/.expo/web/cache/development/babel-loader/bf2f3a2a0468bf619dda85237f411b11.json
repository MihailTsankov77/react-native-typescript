{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var ContextDragAndDrop = React.createContext({\n  onMove: function onMove(_ref) {\n    var id = _ref.id,\n        width = _ref.width,\n        height = _ref.height,\n        px = _ref.px,\n        py = _ref.py,\n        onDroptItem = _ref.onDroptItem;\n    return;\n  },\n  dropAreas: []\n});\n\nvar DragAndDropArea = function (_Component) {\n  _inherits(DragAndDropArea, _Component);\n\n  var _super = _createSuper(DragAndDropArea);\n\n  function DragAndDropArea() {\n    var _this;\n\n    _classCallCheck(this, DragAndDropArea);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      dropAreas: []\n    };\n\n    _this.handleOnMoveDropArea = function (_ref2) {\n      var id = _ref2.id,\n          width = _ref2.width,\n          height = _ref2.height,\n          px = _ref2.px,\n          py = _ref2.py,\n          onDroptItem = _ref2.onDroptItem;\n      var upd = {\n        id: id,\n        width: width,\n        height: height,\n        px: px,\n        py: py,\n        onDroptItem: onDroptItem\n      };\n\n      if (_this.state.dropAreas.some(function (dropArea) {\n        return dropArea.id === id;\n      })) {\n        _this.setState({\n          dropAreas: _this.state.dropAreas.map(function (area) {\n            return area.id === id ? upd : area;\n          })\n        });\n      } else {\n        _this.setState({\n          dropAreas: _this.state.dropAreas.concat(upd)\n        });\n      }\n    };\n\n    _this.contextValue = {\n      onMove: _this.handleOnMoveDropArea,\n      dropAreas: _this.state.dropAreas\n    };\n    return _this;\n  }\n\n  _createClass(DragAndDropArea, [{\n    key: \"render\",\n    value: function render() {\n      return _jsx(ContextDragAndDrop.Provider, {\n        value: {\n          onMove: this.handleOnMoveDropArea,\n          dropAreas: this.state.dropAreas\n        },\n        children: _jsx(View, {\n          style: styles.mainContainer,\n          children: this.props.children\n        })\n      });\n    }\n  }]);\n\n  return DragAndDropArea;\n}(Component);\n\nexport { DragAndDropArea as default };\nvar styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  ballContainer: {\n    height: 200\n  },\n  row: {\n    width: 600,\n    height: 200,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\"\n  },\n  dropZone: {\n    height: 200,\n    backgroundColor: \"#00334d\"\n  },\n  text: {\n    marginTop: 25,\n    marginLeft: 5,\n    marginRight: 5,\n    textAlign: \"center\",\n    color: \"#fff\",\n    fontSize: 25,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["React","Component","ContextDragAndDrop","createContext","onMove","id","width","height","px","py","onDroptItem","dropAreas","DragAndDropArea","state","handleOnMoveDropArea","upd","some","dropArea","setState","map","area","concat","contextValue","styles","mainContainer","props","children","StyleSheet","create","flex","ballContainer","row","flexDirection","flexWrap","dropZone","backgroundColor","text","marginTop","marginLeft","marginRight","textAlign","color","fontSize","fontWeight"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/Components/.newFolder/CustomComponents/CustomElements/DragAndDrop.tsx"],"sourcesContent":["import React, { Component, FunctionComponentElement, ReactNode } from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport DropArea, { DropAreaProps } from \"./DropArea\";\nimport Draggable, { DragAndDropProps } from \"./Draggable\";\n\n\ninterface DragAndDropAreaState{\n    dropAreas: dropAreaConfig[];\n}\ninterface DragAndDropAreaProps{\n    children: ReactNode[];\n}\n\nexport type dropAreaConfig = {\n  id: string, \n  width: number, \n  height: number, \n  px: number, \n  py: number, \n  onDroptItem:(item: any, renderItem: (item: any)=>ReactNode)=> void\n}\ninterface ContextProps{\n    onMove: (({id, width, height, px, py, onDroptItem}: dropAreaConfig) => void),\n    dropAreas: dropAreaConfig[] ,\n}\n\nexport const ContextDragAndDrop = React.createContext<ContextProps>({\n    onMove: (({id, width, height, px, py, onDroptItem}: dropAreaConfig) => {return}),\n    dropAreas: [],\n});\n\nexport default class DragAndDropArea extends Component<DragAndDropAreaProps, DragAndDropAreaState> {\n\n    state: Readonly<DragAndDropAreaState> ={\n        dropAreas: []\n    }   \n\n    handleOnMoveDropArea = ({id, width, height, px, py, onDroptItem}: dropAreaConfig) => {\n\n        const upd = {\n          id: id, \n          width: width, \n          height: height, \n          px: px, \n          py: py, \n          onDroptItem: onDroptItem\n        };\n\n        if(this.state.dropAreas.some(dropArea => dropArea.id === id)){\n          this.setState({dropAreas: this.state.dropAreas.map(area => area.id === id? upd : area)});\n        }else{\n          this.setState({dropAreas: this.state.dropAreas.concat(upd)});\n        }\n    }\n\n  contextValue: ContextProps = {\n    onMove: this.handleOnMoveDropArea,\n    dropAreas: this.state.dropAreas,\n  }\n  \n  \n\n  render() {\n    return (\n      <ContextDragAndDrop.Provider value={{\n        onMove: this.handleOnMoveDropArea,\n        dropAreas: this.state.dropAreas,\n      }}>\n        <View style={styles.mainContainer}>\n          {this.props.children}\n        </View>\n      </ContextDragAndDrop.Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  ballContainer: {\n    height:200\n  },\n  row: {\n    width: 600,\n    height: 200,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n  },  \n  dropZone: {\n    height: 200,\n    backgroundColor: \"#00334d\"\n  },\n  text: {\n    marginTop: 25,\n    marginLeft: 5,\n    marginRight: 5,\n    textAlign: \"center\",\n    color: \"#fff\",\n    fontSize: 25,\n    fontWeight: \"bold\"\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}