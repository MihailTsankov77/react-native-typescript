{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Draggable from \"./Draggable\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar DropdownQuestion = function DropdownQuestion(_ref) {\n  var item = _ref.item,\n      options = _ref.options;\n  var pictures = item.answers.map(function (ans) {\n    return {\n      id: ans.id,\n      uri: ans.picture\n    };\n  });\n  var texts = item.answers.map(function (ans) {\n    return {\n      id: ans.id,\n      text: ans.text\n    };\n  });\n  var DropAreaRef = React.createRef();\n\n  var _useState = useState({\n    width: 0,\n    height: 0,\n    px: 0,\n    py: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      PositionContainer = _useState2[0],\n      setPositionContainer = _useState2[1];\n\n  var handleLayoutChange = function handleLayoutChange() {\n    var _DropAreaRef$current;\n\n    (_DropAreaRef$current = DropAreaRef.current) == null ? void 0 : _DropAreaRef$current.measure(function (fx, fy, width, height, px, py) {\n      return setPositionContainer({\n        width: width,\n        height: height,\n        px: px,\n        py: py\n      });\n    });\n  };\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dropAreas = _useState4[0],\n      setPosition = _useState4[1];\n\n  var handleDropAreasLayout = function handleDropAreasLayout(_ref2) {\n    var nativeEvent = _ref2.nativeEvent;\n    var layout = nativeEvent.layout;\n    console.log('====================================');\n    console.log({\n      px: PositionContainer.px + layout.x,\n      py: PositionContainer.py + layout.y,\n      width: layout.width,\n      height: layout.height\n    });\n    console.log('====================================');\n    dropsetPosition([].concat(_toConsumableArray(dropAreas), [{\n      px: PositionContainer.px + layout.x,\n      py: PositionContainer.py + layout.y,\n      width: layout.width,\n      height: layout.height\n    }]));\n    console.log(dropAreas);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    ref: DropAreaRef,\n    onLayout: handleLayoutChange,\n    children: [_jsx(Text, {\n      style: styles.question,\n      children: item.text\n    }), _jsx(View, {\n      style: styles.row,\n      children: item.answers.map(function (ans) {\n        var index = Math.round(Math.random() * (texts.length - 1));\n        var text = texts.splice(index, 1)[0];\n        return _jsx(View, {\n          onLayout: handleDropAreasLayout,\n          style: styles.dropArea,\n          children: _jsx(Text, {\n            children: text.text\n          })\n        }, ans.id);\n      })\n    }), _jsx(View, {\n      style: styles.row,\n      children: item.answers.map(function (ans) {\n        var index = Math.round(Math.random() * (pictures.length - 1));\n        var picture = pictures.splice(index, 1)[0];\n        return _jsx(Draggable, {\n          dropAreas: dropAreas,\n          itemView: _jsx(Image, {\n            source: {\n              uri: picture.uri,\n              width: 100,\n              height: 100\n            }\n          })\n        }, ans.id);\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 10,\n    alignContent: 'center',\n    margin: 5,\n    padding: 15,\n    borderWidth: 2,\n    borderRadius: 25,\n    width: \"90%\",\n    borderColor: \"#E0E0E0\"\n  },\n  question: {\n    fontSize: 40,\n    alignSelf: \"center\",\n    borderBottomWidth: 2,\n    borderBottomColor: \"#E0E0E0\"\n  },\n  row: {\n    padding: 5,\n    display: 'flex',\n    flexDirection: \"row\",\n    flexWrap: 'wrap',\n    justifyContent: 'space-between'\n  },\n  dropArea: {\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    borderWidth: 3,\n    borderColor: \"#E0E0E1\",\n    height: 150,\n    width: 150,\n    padding: 10,\n    alignItems: 'center',\n    alignContent: 'center'\n  }\n});\nexport default DropdownQuestion;","map":{"version":3,"names":["React","useState","Draggable","DropdownQuestion","item","options","pictures","answers","map","ans","id","uri","picture","texts","text","DropAreaRef","createRef","width","height","px","py","PositionContainer","setPositionContainer","handleLayoutChange","current","measure","fx","fy","dropAreas","setPosition","handleDropAreasLayout","nativeEvent","layout","console","log","x","y","dropsetPosition","styles","container","question","row","index","Math","round","random","length","splice","dropArea","StyleSheet","create","display","flexDirection","gap","alignContent","margin","padding","borderWidth","borderRadius","borderColor","fontSize","alignSelf","borderBottomWidth","borderBottomColor","flexWrap","justifyContent","alignItems"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/git/react-native-typescript/react-native/test_02/Components/DropdownQuestion.tsx"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport { Dimensions, Image, LayoutChangeEvent, StyleSheet, Text, View } from \"react-native\";\nimport Answer from \"../modules/Answer\";\nimport Question, { TypeAnswers } from \"../modules/Question\";\nimport Btn from \"./.newFolder/CustomComponents/CustomButton\";\nimport Card from \"./.newFolder/CustomComponents/CustomCard\";\nimport Draggable, { position } from \"./Draggable\";\nimport { Selected } from \"./StartTest\";\n\ninterface DropdownQuestionProps {\n    item: Question;\n    options: {\n        selectedAnswers: Selected[];\n        onSelectAnswer: (item: Answer, itemId: number)=>void;\n    }\n}\n\n\nconst DropdownQuestion =  ({item, options}: DropdownQuestionProps) => {\n    const pictures = item.answers.map(ans =>  { return {id: ans.id, uri: ans.picture}});\n    const texts = item.answers.map(ans =>  { return {id: ans.id, text: ans.text}});\n\n    const DropAreaRef = React.createRef<View>();\n\n    const [PositionContainer, setPositionContainer] = useState<position>({width: 0, height: 0, px: 0, py: 0})\n    const handleLayoutChange = () => {\n        DropAreaRef.current?.measure( (fx, fy, width, height, px, py) => \n            setPositionContainer({width: width, height: height, px: px, py: py}));\n    }\n\n\n    const [dropAreas, setPosition] = useState<position[]>([])\n    const handleDropAreasLayout = ({ nativeEvent }:  LayoutChangeEvent) =>{\n        const {layout} = nativeEvent;\n        console.log('====================================');\n        console.log({\n            px: PositionContainer.px + layout.x,\n            py: PositionContainer.py + layout.y,\n            width: layout.width,\n            height: layout.height,\n        });\n        console.log('====================================');\n        dropsetPosition(\n            [...dropAreas,{\n            px: PositionContainer.px + layout.x,\n            py: PositionContainer.py + layout.y,\n            width: layout.width,\n            height: layout.height,}]\n        );\n\n        console.log(dropAreas);\n        \n    }\n\n    return (\n        <View style={styles.container} ref={DropAreaRef}  onLayout={handleLayoutChange}>\n            <Text style={styles.question}>{item.text}</Text>\n            <View  style={styles.row}>\n                {item.answers.map(ans => {\n                const index = Math.round(Math.random()*(texts.length-1));\n                const text = texts.splice(index, 1)[0];\n                return (\n                    <View key={ans.id} onLayout={handleDropAreasLayout} style={styles.dropArea}>\n                        <Text>{text.text}</Text>\n                    </View>\n                );})} \n            </View>\n            <View style={styles.row}  >\n                {item.answers.map(ans => {\n                    const index  = Math.round(Math.random()*(pictures.length-1));\n                    const picture = pictures.splice(index, 1)[0];\n                return (\n                    <Draggable key={ans.id} dropAreas={dropAreas} \n                        itemView={<Image source={{uri: picture.uri, width:100, height:100}} />}/>\n                );})}\n            </View>\n        </View>\n     );\n}\n \nconst styles = StyleSheet.create({\n    container: {\n        display:'flex',\n        flexDirection: 'column',\n        gap: 10,\n        alignContent: 'center',\n        margin: 5,\n        padding: 15,\n        borderWidth: 2,  \n        borderRadius: 25,\n        width: \"90%\",\n        borderColor:\"#E0E0E0\",\n    },\n    question: {\n        fontSize: 40,\n        alignSelf: \"center\",\n        borderBottomWidth: 2,  \n        borderBottomColor: \"#E0E0E0\",\n    },\n    row: {\n        padding:5,\n        display: 'flex',\n        flexDirection:\"row\",\n        flexWrap: 'wrap',\n        justifyContent: 'space-between'\n    },\n    dropArea: {\n        flexDirection: 'column',\n        flexWrap: 'nowrap',\n        borderWidth: 3,  \n        borderColor: \"#E0E0E1\",\n        height: 150,\n        width: 150,\n        padding: 10,\n        alignItems: 'center',\n        alignContent: 'center',\n    },\n});\n\nexport default DropdownQuestion;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}