{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"withModal\", \"calendarIcon\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nimport * as React from 'react';\nimport { IconButton } from 'react-native-paper';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport DatePickerModal from \"./DatePickerModal\";\nimport { useLatest } from \"../utils\";\nimport DatePickerInputWithoutModal from \"./DatePickerInputWithoutModal\";\n\nfunction DatePickerInput(_ref, ref) {\n  var _ref$withModal = _ref.withModal,\n      withModal = _ref$withModal === void 0 ? true : _ref$withModal,\n      _ref$calendarIcon = _ref.calendarIcon,\n      calendarIcon = _ref$calendarIcon === void 0 ? 'calendar' : _ref$calendarIcon,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var onDismiss = React.useCallback(function () {\n    setVisible(false);\n  }, [setVisible]);\n  var onChangeRef = useLatest(rest.onChange);\n  var onInnerConfirm = React.useCallback(function (_ref2) {\n    var date = _ref2.date;\n    setVisible(false);\n    onChangeRef.current(date);\n  }, [setVisible, onChangeRef]);\n  return React.createElement(DatePickerInputWithoutModal, _extends({\n    ref: ref\n  }, rest, {\n    inputButtons: withModal ? React.createElement(IconButton, {\n      size: 24,\n      style: styles.calendarButton,\n      icon: calendarIcon,\n      onPress: function onPress() {\n        return setVisible(true);\n      }\n    }) : null,\n    modal: function modal(_ref3) {\n      var value = _ref3.value,\n          locale = _ref3.locale,\n          inputMode = _ref3.inputMode,\n          validRange = _ref3.validRange;\n      return withModal ? React.createElement(DatePickerModal, {\n        date: value,\n        mode: \"single\",\n        visible: visible,\n        onDismiss: onDismiss,\n        onConfirm: onInnerConfirm,\n        locale: locale,\n        dateMode: inputMode,\n        validRange: validRange\n      }) : null;\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  calendarButton: {\n    position: 'absolute',\n    right: 0,\n    zIndex: 10\n  }\n});\nexport default React.forwardRef(DatePickerInput);","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,UAAT,QAA2B,oBAA3B;;AAEA,OAAOC,eAAP;AACA,SAASC,SAAT;AAEA,OAAOC,2BAAP;;AAEA,SAASC,eAAT,OAMEC,GANF,EAOE;EAAA,0BALEC,SAKF;EAAA,IALEA,SAKF,+BALc,IAKd;EAAA,6BAJEC,YAIF;EAAA,IAJEA,YAIF,kCAJiB,UAIjB;EAAA,IAHKC,IAGL;;EACA,sBAA8BT,KAAK,CAACU,QAANV,CAAwB,KAAxBA,CAA9B;EAAA;EAAA,IAAOW,OAAP;EAAA,IAAgBC,UAAhB;;EACA,IAAMC,SAAS,GAAGb,KAAK,CAACc,WAANd,CAAkB,YAAM;IACxCY,UAAU,CAAC,KAAD,CAAVA;EADgB,GAEf,CAACA,UAAD,CAFeZ,CAAlB;EAGA,IAAMe,WAAW,GAAGZ,SAAS,CAACM,IAAI,CAACO,QAAN,CAA7B;EACA,IAAMC,cAAc,GAAGjB,KAAK,CAACc,WAANd,CACrB,iBAAmB;IAAA,IAAhBkB,IAAgB,SAAhBA,IAAgB;IACjBN,UAAU,CAAC,KAAD,CAAVA;IACAG,WAAW,CAACI,OAAZJ,CAAoBG,IAApBH;EAHmB,GAKrB,CAACH,UAAD,EAAaG,WAAb,CALqBf,CAAvB;EAQA,OACEA,oBAACI,2BAAD;IACEE,GAAG,EAAEA;EADP,GAEMG,IAFN;IAGEW,YAAY,EACVb,SAAS,GACPP,oBAACC,UAAD;MACEoB,IAAI,EAAE,EADR;MAEEC,KAAK,EAAEC,MAAM,CAACC,cAFhB;MAGEC,IAAI,EAAEjB,YAHR;MAIEkB,OAAO,EAAE;QAAA,OAAMd,UAAU,CAAC,IAAD,CAAhB;MAAA;IAJX,EADO,GAOL,IAXR;IAaEe,KAAK,EAAE;MAAA,IAAGC,KAAH,SAAGA,KAAH;MAAA,IAAUC,MAAV,SAAUA,MAAV;MAAA,IAAkBC,SAAlB,SAAkBA,SAAlB;MAAA,IAA6BC,UAA7B,SAA6BA,UAA7B;MAAA,OACLxB,SAAS,GACPP,oBAACE,eAAD;QACEgB,IAAI,EAAEU,KADR;QAEEI,IAAI,EAAC,QAFP;QAGErB,OAAO,EAAEA,OAHX;QAIEE,SAAS,EAAEA,SAJb;QAKEoB,SAAS,EAAEhB,cALb;QAMEY,MAAM,EAAEA,MANV;QAOEK,QAAQ,EAAEJ,SAPZ;QAQEC,UAAU,EAAEA;MARd,EADO,GAWL,IAZC;IAAA;EAbT,GADF;AA8BD;;AAED,IAAMR,MAAM,GAAGY,UAAU,CAACC,MAAXD,CAAkB;EAC/BX,cAAc,EAAE;IAAEa,QAAQ,EAAE,UAAZ;IAAwBC,KAAK,EAAE,CAA/B;IAAkCC,MAAM,EAAE;EAA1C;AADe,CAAlBJ,CAAf;AAIA,eAAenC,KAAK,CAACwC,UAANxC,CAAiBK,eAAjBL,CAAf","names":["React","IconButton","DatePickerModal","useLatest","DatePickerInputWithoutModal","DatePickerInput","ref","withModal","calendarIcon","rest","useState","visible","setVisible","onDismiss","useCallback","onChangeRef","onChange","onInnerConfirm","date","current","inputButtons","size","style","styles","calendarButton","icon","onPress","modal","value","locale","inputMode","validRange","mode","onConfirm","dateMode","StyleSheet","create","position","right","zIndex","forwardRef"],"sources":["DatePickerInput.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { IconButton } from 'react-native-paper'\nimport { StyleSheet } from 'react-native'\nimport DatePickerModal from './DatePickerModal'\nimport { useLatest } from '../utils'\nimport type { DatePickerInputProps } from './DatePickerInput.shared'\nimport DatePickerInputWithoutModal from './DatePickerInputWithoutModal'\n\nfunction DatePickerInput(\n  {\n    withModal = true,\n    calendarIcon = 'calendar',\n    ...rest\n  }: DatePickerInputProps,\n  ref: any\n) {\n  const [visible, setVisible] = React.useState<boolean>(false)\n  const onDismiss = React.useCallback(() => {\n    setVisible(false)\n  }, [setVisible])\n  const onChangeRef = useLatest(rest.onChange)\n  const onInnerConfirm = React.useCallback(\n    ({ date }: any) => {\n      setVisible(false)\n      onChangeRef.current(date)\n    },\n    [setVisible, onChangeRef]\n  )\n\n  return (\n    <DatePickerInputWithoutModal\n      ref={ref}\n      {...rest}\n      inputButtons={\n        withModal ? (\n          <IconButton\n            size={24}\n            style={styles.calendarButton}\n            icon={calendarIcon}\n            onPress={() => setVisible(true)}\n          />\n        ) : null\n      }\n      modal={({ value, locale, inputMode, validRange }) =>\n        withModal ? (\n          <DatePickerModal\n            date={value}\n            mode=\"single\"\n            visible={visible}\n            onDismiss={onDismiss}\n            onConfirm={onInnerConfirm}\n            locale={locale}\n            dateMode={inputMode}\n            validRange={validRange}\n          />\n        ) : null\n      }\n    />\n  )\n}\n\nconst styles = StyleSheet.create({\n  calendarButton: { position: 'absolute', right: 0, zIndex: 10 },\n})\n\nexport default React.forwardRef(DatePickerInput)\n"]},"metadata":{},"sourceType":"module"}