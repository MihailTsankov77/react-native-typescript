{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Dropdown from \"../CustomComponents/CustomDropdown\";\nimport Form from \"../CustomComponents/CustomForm\";\nimport Input from \"../CustomComponents/CustomFormInput\";\nimport { isTvShow, Watched } from \"../modules/movie-show\";\nimport { Validators } from \"../ts/validators\";\nimport MovieCard from \"./MovieCard\";\nimport TvShowCard from \"./TvShowCard\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar validators = {\n  thoughts: [Validators.required()],\n  rating: [Validators.required()]\n};\nvar ratings = [];\n\nfor (var i = 1; i <= 10; i++) {\n  ratings.push([i + \" Star\", i]);\n}\n\nvar AddWatchedForm = function (_Component) {\n  _inherits(AddWatchedForm, _Component);\n\n  var _super = _createSuper(AddWatchedForm);\n\n  function AddWatchedForm() {\n    var _this;\n\n    _classCallCheck(this, AddWatchedForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      formFields: {\n        rating: \"\",\n        thoughts: ''\n      }\n    };\n\n    _this.handleFormChange = function (formState) {\n      _this.setState({\n        formFields: formState\n      });\n    };\n\n    _this.handleSubmitForm = function () {\n      var watched = new Watched(undefined, _this.props.watch.id, _this.state.formFields.rating, _this.state.formFields.thoughts, !isTvShow(_this.props.watch));\n\n      _this.props.onCreate(watched);\n    };\n\n    return _this;\n  }\n\n  _createClass(AddWatchedForm, [{\n    key: \"render\",\n    value: function render() {\n      return _jsxs(_Fragment, {\n        children: [isTvShow(this.props.watch) ? _jsx(TvShowCard, {\n          options: {\n            actors: this.props.actors,\n            genres: this.props.genres\n          },\n          len: \"r1\",\n          item: this.props.watch\n        }) : _jsx(MovieCard, {\n          options: {\n            actors: this.props.actors,\n            genres: this.props.genres\n          },\n          len: \"r1\",\n          item: this.props.watch\n        }), _jsxs(Form, {\n          title: \"Watched\",\n          formState: this.state.formFields,\n          handleStateChange: this.handleFormChange,\n          handleSubmitForm: this.handleSubmitForm,\n          validators: validators,\n          children: [_jsx(Dropdown, {\n            data: ratings,\n            target: \"rating\",\n            label: \"Rating: \",\n            len: \"r1\"\n          }), _jsx(Input, {\n            target: \"thoughts\",\n            label: \"Thoughts:\",\n            multiline: {\n              enable: true,\n              lines: 4\n            },\n            len: \"r1\"\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return AddWatchedForm;\n}(Component);\n\nexport default AddWatchedForm;","map":{"version":3,"names":["React","Component","Dropdown","Form","Input","isTvShow","Watched","Validators","MovieCard","TvShowCard","validators","thoughts","required","rating","ratings","i","push","AddWatchedForm","state","formFields","handleFormChange","formState","setState","handleSubmitForm","watched","undefined","props","watch","id","onCreate","actors","genres","enable","lines"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/workspace/Cheetsheet/Components/AddWatchedForm.tsx"],"sourcesContent":["import React , { Component } from \"react\";\nimport Dropdown from \"../CustomComponents/CustomDropdown\";\nimport Form from \"../CustomComponents/CustomForm\";\nimport Input from \"../CustomComponents/CustomFormInput\";\nimport { validatorsType } from \"../CustomComponents/shared/shared-interfaces\";\nimport Actors from \"../modules/Actors\";\nimport Genre from \"../modules/genre\";\nimport { isTvShow, Movie, TvShow, Watched } from \"../modules/movie-show\";\nimport { Validators } from \"../ts/validators\";\nimport MovieCard from \"./MovieCard\";\nimport TvShowCard from \"./TvShowCard\";\n\ninterface AddWatchedFormProps {\n    onCreate: (watched: Watched) =>void;\n    actors: Actors[];\n    genres: Genre[];\n    watch: Movie | TvShow;\n}\ninterface Fields{\n    rating: string;\n    thoughts: string;\n}\n\ninterface AddWatchedFormState {\n    formFields: Fields;\n}\n\nconst validators: validatorsType<Fields> = {\n    thoughts: [Validators.required()],\n    rating: [Validators.required()],\n}\n\nlet ratings: [string, number][] =[];\nfor(let i = 1; i<= 10; i++){\n    ratings.push([`${i} Star`, i])\n}  \n \nclass AddWatchedForm extends Component<AddWatchedFormProps, AddWatchedFormState> {\n    state: Readonly<AddWatchedFormState> = {\n        formFields: {\n            rating: \"\",\n            thoughts: '',\n        }\n    }\n   \n\n    handleFormChange = (formState: Fields) =>{\n        this.setState({formFields: formState});\n    }\n\n    handleSubmitForm = () =>{\n        const watched = new Watched(\n            undefined,\n            this.props.watch.id!,\n            this.state.formFields.rating,\n            this.state.formFields.thoughts,\n            !isTvShow(this.props.watch)\n        );\n        this.props.onCreate(watched);\n    }\n\n\n    render() { \n        \n        return (<>\n                {isTvShow(this.props.watch)?\n                    <TvShowCard options={{actors: this.props.actors,genres:this.props.genres }} len=\"r1\" item={this.props.watch}/>:\n                    <MovieCard options={{actors: this.props.actors,genres:this.props.genres }} len=\"r1\" item={this.props.watch}/>\n                }\n                <Form<Fields> title=\"Watched\"\n                formState ={this.state.formFields}\n                handleStateChange={this.handleFormChange}\n                handleSubmitForm ={this.handleSubmitForm}\n                validators={validators}>\n                    <Dropdown data={ratings} target={\"rating\"} label=\"Rating: \"len=\"r1\"/>\n                    <Input target={\"thoughts\"} label=\"Thoughts:\" multiline={{enable: true, lines: 4}} len=\"r1\"/>\n                </Form>\n            </>\n         );\n    }\n}\n\nexport default AddWatchedForm;"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAiBC,SAAjB,QAAkC,OAAlC;AACA,OAAOC,QAAP;AACA,OAAOC,IAAP;AACA,OAAOC,KAAP;AAIA,SAASC,QAAT,EAAkCC,OAAlC;AACA,SAASC,UAAT;AACA,OAAOC,SAAP;AACA,OAAOC,UAAP;;;;AAiBA,IAAMC,UAAkC,GAAG;EACvCC,QAAQ,EAAE,CAACJ,UAAU,CAACK,QAAX,EAAD,CAD6B;EAEvCC,MAAM,EAAE,CAACN,UAAU,CAACK,QAAX,EAAD;AAF+B,CAA3C;AAKA,IAAIE,OAA2B,GAAE,EAAjC;;AACA,KAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,IAAG,EAAnB,EAAuBA,CAAC,EAAxB,EAA2B;EACvBD,OAAO,CAACE,IAAR,CAAa,CAAID,CAAJ,YAAcA,CAAd,CAAb;AACH;;IAEKE,c;;;;;;;;;;;;;;;UACFC,K,GAAuC;MACnCC,UAAU,EAAE;QACRN,MAAM,EAAE,EADA;QAERF,QAAQ,EAAE;MAFF;IADuB,C;;UAQvCS,gB,GAAmB,UAACC,SAAD,EAAsB;MACrC,MAAKC,QAAL,CAAc;QAACH,UAAU,EAAEE;MAAb,CAAd;IACH,C;;UAEDE,gB,GAAmB,YAAK;MACpB,IAAMC,OAAO,GAAG,IAAIlB,OAAJ,CACZmB,SADY,EAEZ,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,EAFL,EAGZ,MAAKV,KAAL,CAAWC,UAAX,CAAsBN,MAHV,EAIZ,MAAKK,KAAL,CAAWC,UAAX,CAAsBR,QAJV,EAKZ,CAACN,QAAQ,CAAC,MAAKqB,KAAL,CAAWC,KAAZ,CALG,CAAhB;;MAOA,MAAKD,KAAL,CAAWG,QAAX,CAAoBL,OAApB;IACH,C;;;;;;;WAGD,kBAAS;MAEL,OAAQ;QAAA,WACCnB,QAAQ,CAAC,KAAKqB,KAAL,CAAWC,KAAZ,CAAR,GACG,KAAC,UAAD;UAAY,OAAO,EAAE;YAACG,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAApB;YAA2BC,MAAM,EAAC,KAAKL,KAAL,CAAWK;UAA7C,CAArB;UAA4E,GAAG,EAAC,IAAhF;UAAqF,IAAI,EAAE,KAAKL,KAAL,CAAWC;QAAtG,EADH,GAEG,KAAC,SAAD;UAAW,OAAO,EAAE;YAACG,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAApB;YAA2BC,MAAM,EAAC,KAAKL,KAAL,CAAWK;UAA7C,CAApB;UAA2E,GAAG,EAAC,IAA/E;UAAoF,IAAI,EAAE,KAAKL,KAAL,CAAWC;QAArG,EAHJ,EAKA,MAAC,IAAD;UAAc,KAAK,EAAC,SAApB;UACA,SAAS,EAAG,KAAKT,KAAL,CAAWC,UADvB;UAEA,iBAAiB,EAAE,KAAKC,gBAFxB;UAGA,gBAAgB,EAAG,KAAKG,gBAHxB;UAIA,UAAU,EAAEb,UAJZ;UAAA,WAKI,KAAC,QAAD;YAAU,IAAI,EAAEI,OAAhB;YAAyB,MAAM,EAAE,QAAjC;YAA2C,KAAK,EAAC,UAAjD;YAA2D,GAAG,EAAC;UAA/D,EALJ,EAMI,KAAC,KAAD;YAAO,MAAM,EAAE,UAAf;YAA2B,KAAK,EAAC,WAAjC;YAA6C,SAAS,EAAE;cAACkB,MAAM,EAAE,IAAT;cAAeC,KAAK,EAAE;YAAtB,CAAxD;YAAkF,GAAG,EAAC;UAAtF,EANJ;QAAA,EALA;MAAA,EAAR;IAeH;;;;EA1CwBhC,S;;AA6C7B,eAAegB,cAAf"},"metadata":{},"sourceType":"module"}