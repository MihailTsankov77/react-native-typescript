{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Form from \"../CustomComponents/CustomForm\";\nimport Input from \"../CustomComponents/CustomFormInput\";\nimport ImagePicker from \"../CustomComponents/CustomImagePicker\";\nimport Actors from \"../modules/actors\";\nimport { Validators } from \"../ts/validators\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar validators = {\n  name: [Validators.required(), Validators.len(3, 100)]\n};\n\nvar AddActorsForm = function (_Component) {\n  _inherits(AddActorsForm, _Component);\n\n  var _super = _createSuper(AddActorsForm);\n\n  function AddActorsForm() {\n    var _this;\n\n    _classCallCheck(this, AddActorsForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      formFields: {\n        name: \"\",\n        image: '',\n        description: ''\n      }\n    };\n\n    _this.handleFormChange = function (formState) {\n      _this.setState({\n        formFields: formState\n      });\n    };\n\n    _this.handleSubmitForm = function () {\n      var _this$props$edited;\n\n      var actor = new Actors((_this$props$edited = _this.props.edited) == null ? void 0 : _this$props$edited.id, _this.state.formFields.name, _this.state.formFields.image, _this.state.formFields.description);\n\n      _this.props.onCreate(actor);\n    };\n\n    return _this;\n  }\n\n  _createClass(AddActorsForm, [{\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate() {\n      return this.props;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.edited !== prevProps.edited) this.handleEdited();\n    }\n  }, {\n    key: \"handleEdited\",\n    value: function handleEdited() {\n      var _this2 = this;\n\n      if (!this.props.edited) return;\n      var updatedFormFields = Object.keys(this.state.formFields).reduce(function (prevState, field) {\n        return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, field, _this2.props.edited[field]));\n      }, {});\n      this.setState({\n        formFields: updatedFormFields\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsxs(Form, {\n        title: \"Add Actors\",\n        formState: this.state.formFields,\n        handleStateChange: this.handleFormChange,\n        handleSubmitForm: this.handleSubmitForm,\n        validators: validators,\n        children: [_jsx(Input, {\n          target: \"name\",\n          label: \"Name:\"\n        }), _jsx(ImagePicker, {\n          target: \"image\",\n          label: \"Add Image:\",\n          len: \"r1\"\n        }), _jsx(Input, {\n          target: \"description\",\n          label: \"Description:\",\n          multiline: {\n            enable: true,\n            lines: 4\n          },\n          len: \"r1\"\n        })]\n      });\n    }\n  }]);\n\n  return AddActorsForm;\n}(Component);\n\nexport default AddActorsForm;","map":{"version":3,"names":["React","Component","Form","Input","ImagePicker","Actors","Validators","validators","name","required","len","AddActorsForm","state","formFields","image","description","handleFormChange","formState","setState","handleSubmitForm","actor","props","edited","id","onCreate","prevProps","handleEdited","updatedFormFields","Object","keys","reduce","prevState","field","enable","lines"],"sources":["/Users/mihail.tsankov/Desktop/bootcamp/workspace/Cheetsheet/Components/addActorsForm.tsx"],"sourcesContent":["import React , { Component } from \"react\";\nimport Form from \"../CustomComponents/CustomForm\";\nimport Input from \"../CustomComponents/CustomFormInput\";\nimport ImagePicker from \"../CustomComponents/CustomImagePicker\";\nimport { validatorsType } from \"../CustomComponents/shared/shared-interfaces\";\nimport Actors from \"../modules/actors\";\nimport { Validators } from \"../ts/validators\";\n\ninterface AddActorFormProps {\n    onCreate: (actor: Actors) =>void;\n    edited: Actors | undefined;\n}\ninterface Fields{\n    name: string;\n    image: string;\n    description: string,\n}\n \n\ninterface AddActorFormState {\n    formFields: Fields;\n   \n}\n\n\n\nlet validators: validatorsType<Fields> = {\n    name: [Validators.required(), Validators.len(3, 100)],\n}\n \nclass AddActorsForm extends Component<AddActorFormProps, AddActorFormState> {\n    state: Readonly<AddActorFormState> = {\n        formFields: {\n            name: \"\",\n            image: '',\n            description:'',\n        }\n    }\n    getSnapshotBeforeUpdate(){\n        return this.props;\n    }\n    componentDidUpdate(prevProps: AddActorFormProps){\n        if(this.props.edited !== prevProps.edited)\n            this.handleEdited();\n    }\n\n    handleEdited(){\n        if(!this.props.edited) return;\n        const updatedFormFields: Fields = Object.keys(this.state.formFields).reduce((prevState: Fields, field: string) =>{\n            return {\n                ...prevState,\n                [field]: this.props.edited![field as keyof Actors]\n            }\n        }, {} as Fields)\n        this.setState({formFields: updatedFormFields})\n    }\n \n\n    handleFormChange = (formState: Fields) =>{\n        this.setState({formFields: formState});\n    }\n\n    handleSubmitForm = () =>{\n       \n        const actor = new Actors(\n            this.props.edited?.id,\n            this.state.formFields.name,\n            this.state.formFields.image,\n            this.state.formFields.description,\n        );\n        this.props.onCreate(actor);\n    }\n\n\n    render() { \n        return ( \n            <Form<Fields> title=\"Add Actors\"\n            formState ={this.state.formFields}\n            handleStateChange={this.handleFormChange}\n            handleSubmitForm ={this.handleSubmitForm}\n            validators={validators}>\n                <Input target={\"name\"} label=\"Name:\"/>\n                <ImagePicker target={\"image\"} label=\"Add Image:\" len=\"r1\"/>\n                <Input target={\"description\"} label=\"Description:\" multiline={{enable: true, lines: 4}} len=\"r1\"/>\n\n                \n            </Form>\n         );\n    }\n}\n \nexport default AddActorsForm;"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAiBC,SAAjB,QAAkC,OAAlC;AACA,OAAOC,IAAP;AACA,OAAOC,KAAP;AACA,OAAOC,WAAP;AAEA,OAAOC,MAAP;AACA,SAASC,UAAT;;;AAoBA,IAAIC,UAAkC,GAAG;EACrCC,IAAI,EAAE,CAACF,UAAU,CAACG,QAAX,EAAD,EAAwBH,UAAU,CAACI,GAAX,CAAe,CAAf,EAAkB,GAAlB,CAAxB;AAD+B,CAAzC;;IAIMC,a;;;;;;;;;;;;;;;UACFC,K,GAAqC;MACjCC,UAAU,EAAE;QACRL,IAAI,EAAE,EADE;QAERM,KAAK,EAAE,EAFC;QAGRC,WAAW,EAAC;MAHJ;IADqB,C;;UA2BrCC,gB,GAAmB,UAACC,SAAD,EAAsB;MACrC,MAAKC,QAAL,CAAc;QAACL,UAAU,EAAEI;MAAb,CAAd;IACH,C;;UAEDE,gB,GAAmB,YAAK;MAAA;;MAEpB,IAAMC,KAAK,GAAG,IAAIf,MAAJ,uBACV,MAAKgB,KAAL,CAAWC,MADD,qBACV,mBAAmBC,EADT,EAEV,MAAKX,KAAL,CAAWC,UAAX,CAAsBL,IAFZ,EAGV,MAAKI,KAAL,CAAWC,UAAX,CAAsBC,KAHZ,EAIV,MAAKF,KAAL,CAAWC,UAAX,CAAsBE,WAJZ,CAAd;;MAMA,MAAKM,KAAL,CAAWG,QAAX,CAAoBJ,KAApB;IACH,C;;;;;;;WAjCD,mCAAyB;MACrB,OAAO,KAAKC,KAAZ;IACH;;;WACD,4BAAmBI,SAAnB,EAAgD;MAC5C,IAAG,KAAKJ,KAAL,CAAWC,MAAX,KAAsBG,SAAS,CAACH,MAAnC,EACI,KAAKI,YAAL;IACP;;;WAED,wBAAc;MAAA;;MACV,IAAG,CAAC,KAAKL,KAAL,CAAWC,MAAf,EAAuB;MACvB,IAAMK,iBAAyB,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAKjB,KAAL,CAAWC,UAAvB,EAAmCiB,MAAnC,CAA0C,UAACC,SAAD,EAAoBC,KAApB,EAAqC;QAC7G,uCACOD,SADP,2BAEKC,KAFL,EAEa,MAAI,CAACX,KAAL,CAAWC,MAAX,CAAmBU,KAAnB,CAFb;MAIH,CALiC,EAK/B,EAL+B,CAAlC;MAMA,KAAKd,QAAL,CAAc;QAACL,UAAU,EAAEc;MAAb,CAAd;IACH;;;WAmBD,kBAAS;MACL,OACI,MAAC,IAAD;QAAc,KAAK,EAAC,YAApB;QACA,SAAS,EAAG,KAAKf,KAAL,CAAWC,UADvB;QAEA,iBAAiB,EAAE,KAAKG,gBAFxB;QAGA,gBAAgB,EAAG,KAAKG,gBAHxB;QAIA,UAAU,EAAEZ,UAJZ;QAAA,WAKI,KAAC,KAAD;UAAO,MAAM,EAAE,MAAf;UAAuB,KAAK,EAAC;QAA7B,EALJ,EAMI,KAAC,WAAD;UAAa,MAAM,EAAE,OAArB;UAA8B,KAAK,EAAC,YAApC;UAAiD,GAAG,EAAC;QAArD,EANJ,EAOI,KAAC,KAAD;UAAO,MAAM,EAAE,aAAf;UAA8B,KAAK,EAAC,cAApC;UAAmD,SAAS,EAAE;YAAC0B,MAAM,EAAE,IAAT;YAAeC,KAAK,EAAE;UAAtB,CAA9D;UAAwF,GAAG,EAAC;QAA5F,EAPJ;MAAA,EADJ;IAaH;;;;EA1DuBjC,S;;AA6D5B,eAAeU,aAAf"},"metadata":{},"sourceType":"module"}